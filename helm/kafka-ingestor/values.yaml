# Default values for kafka-ingestor.

image:
  repository: anchr-kafka-ingestor
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

fullnameOverride: "anchr-kafka-ingestor"

service:
  type: ClusterIP
  port: 80
  targetPort: 8080

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi

serviceMonitor:
  enabled: true
  interval: 30s
  path: /metrics

env:
  LOG_LEVEL: info
  HTTP_ADDR: ":8080"
  INGEST_BUFFER_SIZE: "1000"
  MQTT_BROKER_HOST: "emqx.iot.svc.cluster.local"
  MQTT_BROKER_PORT: "1883"
  MQTT_USE_TLS: "false"
  MQTT_CLIENT_ID: "anchr-kafka-ingestor"
  MQTT_QOS: "1"
  MQTT_TOPIC_PREFIX: "anchr/v1"
  KAFKA_BROKERS: "kafka.data.svc.cluster.local:19092"
  KAFKA_CLIENT_ID: "anchr-kafka-ingestor"
  KAFKA_SECURITY_PROTOCOL: "PLAINTEXT"
  KAFKA_TOPIC_TELEMETRY_RAW: "anchr.mqtt.telemetry.raw.v1"
  KAFKA_TOPIC_TX_RAW: "anchr.mqtt.tx.raw.v1"
  KAFKA_TOPIC_ACK_RAW: "anchr.mqtt.ack.raw.v1"
  KAFKA_TOPIC_DLQ: "anchr.dlq.v1"
